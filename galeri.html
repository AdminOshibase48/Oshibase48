<div id="gallery" class="gallery-grid"></div>

<script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

  const supabase = createClient(
    'https://nuvfnnxuxtthbryesliu.supabase.co',
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im51dmZubnh1eHR0aGJyeWVzbGl1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE1Mzk1NTYsImV4cCI6MjA2NzExNTU1Nn0.Om73FRiKvdlWpZS-hIXCIKznjkQ3A3X3k1n2IzGzRes'
  );

  const gallery = document.getElementById('gallery');

  async function loadGaleri() {
    const { data, error } = await supabase.from('galeri').select('*').order('created_at', { ascending: false });

    if (error) {
      gallery.innerHTML = '<p>Gagal memuat galeri.</p>';
      return;
    }

    gallery.innerHTML = '';
    data.forEach(item => {
      const card = document.createElement('div');
      card.className = 'gallery-card';
      card.innerHTML = `
        <img src="${item.image_url}" alt="${item.title}" />
        <p>${item.title}</p>
      `;
      gallery.appendChild(card);
    });
  }

  loadGaleri();
</script>
